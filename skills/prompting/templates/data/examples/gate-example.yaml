# Example data for Gate.hbs template
# Usage: bun run tools/RenderTemplate.ts --template templates/primitives/Gate.hbs --data templates/data/examples/gate-example.yaml

gate:
  name: Code Review Gate
  category: development
  description: Quality checks that must pass before code can be merged to main branch.
  action_on_fail: block

mandatory:
  - name: All tests pass
    description: Unit tests, integration tests, and e2e tests must all pass.
    check: "npm test && npm run test:e2e"

  - name: No linting errors
    description: Code must pass ESLint and Prettier checks.
    check: "npm run lint && npm run format:check"

  - name: Type check passes
    description: TypeScript compilation must succeed with no errors.
    check: "npm run typecheck"

  - name: No security vulnerabilities
    description: npm audit must report no high or critical vulnerabilities.
    check: "npm audit --audit-level=high"

recommended:
  - name: Code coverage above 80%
    description: New code should maintain or improve coverage.
    check: "npm run coverage"

  - name: Documentation updated
    description: README and inline docs should reflect changes.

  - name: Changelog entry added
    description: CHANGELOG.md should document the change.

exceptions:
  - condition: Hotfix for production incident
    allowed: Skip recommended checks, but mandatory checks still required
  - condition: Documentation-only change
    allowed: Skip test and coverage checks
